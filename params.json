{"name":"passport-local-sequelize","tagline":"Sequelize plugin for building username and password login with passport","body":"# Passport-Local-Sequelize\r\n\r\nPassport-Local-Sequelize is a [Sequelize](http://sequelizejs.com/) plugin \r\nthat simplifies building username and password login with [Passport](http://passportjs.org)\r\n\r\nThis plugin is a mod to the original [Passport-Local Mongoose](https://github.com/saintedlama/passport-local-mongoose) plugin.\r\n\r\n# Installation\r\n\r\n    $ npm install passport-local-sequelize\r\n\r\n# Usage\r\n\r\n\r\n\r\n```js\r\n/* /models/user.js */\r\n\r\n// Require all the stuff\r\nvar Sequelize = require('sequelize'),\r\n\tpassportLocalSequelize = require('passport-local-sequelize');\r\n\r\n// Setup sequelize db connection\r\nvar mydb = new Sequelize('mydb', 'myuser', 'mypass', {\r\n\tdialect: 'sqlite',\r\n\r\n\tstorage: 'mydb.sqlite'\r\n});\r\n\r\n// A helper to define the User model with username, password fields\r\nvar User = passportLocalSequelize.defineUser(mydb, {\r\n\tfavoriteColor: Sequelize.STRING\r\n});\r\n\r\n// --- OR ---\r\n\r\n// Define a User yourself and use attachToUser\r\n\r\nvar User = mydb.define('User', {\r\n\tnick: Sequelize.STRING,\r\n\tmyhash: Sequelize.STRING,\r\n\tmysalt: Sequelize.STRING\r\n});\r\n\r\npassportLocalSequelize.attachToUser(User, {\r\n\tusernameField: 'nick',\r\n\thashField: 'myhash',\r\n\tsaltField: 'mysalt'\r\n});\r\n\r\nmodule.exports = User;\r\n```\r\n\r\nHere's how to hook it all up to passport in your express app.\r\n\r\n```js\r\nvar express = require('express'),\r\n\tpassport = require('passport'),\r\n\r\n\tbodyParser = require('body-parser'),\r\n\tcookieParser = require('cookie-parser'),\r\n\tsession = require('express-session'),\r\n\r\n\tUser = require('./models/user'),\r\n\r\n\tapp = express();\r\n\r\n\r\napp.use(bodyParser());\r\napp.use(require('connect-multiparty')());\r\napp.use(cookieParser());\r\napp.use(session({ secret: 'super-secret' }));\r\n\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\npassport.use(User.createStrategy());\r\n\r\npassport.serializeUser(User.serializeUser());\r\npassport.deserializeUser(User.deserializeUser());\r\n```","google":"UA-58125540-1","note":"Don't delete this file! It's used internally to help with page regeneration."}